<!DOCTYPE html>
<html lang="zh">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<meta http-equiv="X-UA-Compatible" content="ie=edge" />
	<title>Document</title>
	<link rel="stylesheet" type="text/css" href="css/swiper-bundle.min.css"/>
	<link rel="stylesheet" type="text/css" href="css/index.css"/>
	<script src="js/swiper-bundle.min.js"></script>
</head>
<body>
	<div class="box">
		<div class="header">
			<span></span>
			<ul>
				<li><a href="">我的</a><span></span></li>
				<li><a href="">音乐馆</a><span class="xiahuaxian"></span></li>
				<li><a href="">发现</a><span></span></li>
			</ul>
			<span></span>
		</div>
		<div class="swiper-container">
		    <div class="swiper-wrapper">
		        <div class="swiper-slide"><img src="index_img/home-1.png"/></div>
		        <div class="swiper-slide"><img src="index_img/home-2.jpg"/></div>
		        <div class="swiper-slide"><img src="index_img/home-3.jpg"/></div>
		    </div>
		    <!-- 如果需要分页器 -->
		    <div class="swiper-pagination"></div>
		</div>
		<div class="list">
			<ul>
				<li>
					<a href="">
						<div>
							<span></span>
							<p>歌手</p>
						</div>
					</a>
				</li>
				<li>
					<a href="">
						<div>
							<span></span>
							<p>专辑</p>
						</div>
					</a>
				</li>
				<li>
					<a href="">
						<div>
							<span></span>
							<p>排行</p>
						</div>
					</a>
				</li>
				<li>
					<a href="">
						<div>
							<span></span>
							<p>电台</p>
						</div>
					</a>
				</li>
				<li>
					<a href="">
						<div>
							<span></span>
							<p>歌单</p>
						</div>
					</a>
				</li>
			</ul>
		</div>
		<div class="allmusic">
			<ul class="top">
				<li>精选歌单</li>
				<li>
					<a>
						<div>
							<span class="name">
								最新
							<span></span>
							</span>
						</div>
					</a>
					<a>
						<div>
							<span class="names">
								推荐
								<span class="xiatwo"></span>
							</span>
						</div>
					</a>
				</li>
			</ul>
			<div class="nones">
				<div class="musiclist">
				
				</div>
			</div>
			<div class="noneone">
				<div class="musiclists">
				
				</div>
			</div>
			
		</div>
		<!--<audio class="audio">
			<source src="myvideo.mp4" type="video/mp4"></source>
			<source src="myvideo.ogv" type="video/ogg"></source>
			<source src="myvideo.webm" type="video/webm"></source>
		</audio>-->
	</div>
</body>
	<script src="js/jQuery.js"></script>
	<script type="text/javascript">
		var mySwiper = new Swiper ('.swiper-container', {
		    direction: 'horizontal', 
		    loop:true,
		    speed: 1000, 
			autoplay:{
				delay:500,
			},
		    pagination: {
		      el: '.swiper-pagination',
		    }
	 	}) 
	 	$.ajax({
	 		type:"get",
	 		url:"http://192.168.1.45:3000/home?type=new",
	 		datatype:'json',
	 		async:true,
	 		success:function (data){
	 			var str='';
	 			var datas=data.musicList;
	 			for (var i=0;i<datas.length;i++) {
	 				str+='<div class="ajaxs">'+
					'<img src="'+datas[i].imgurl+'"/>'+
					'<div>'+
						'<span>'+datas[i].info+'</span>'+
						'<span>'+datas[i].title+'</span>'+
					'</div>'+
					'</div>';
	 			}
	 			$('.musiclist').html(str);
	 		},
	 		error:function(jqXHR){
		        alert('请求数据失败');
		  }
	 	});
	 	$.ajax({
	 		type:"get",
	 		url:"http://192.168.1.45:3000/home?type=recommend",
	 		datatype:'json',
	 		async:true,
	 		success:function (data){
	 			var str='';
	 			var datas=data.musicList;
	 			for (var i=0;i<datas.length;i++) {
	 				str+='<div class="ajaxs">'+
					'<img src="'+datas[i].imgurl+'"/>'+
					'<div>'+
						'<span>'+datas[i].info+'</span>'+
						'<span>'+datas[i].title+'</span>'+
					'</div>'+
					'</div>';
	 			}
	 			$('.musiclists').html(str);
	 		},
	 		error:function(jqXHR){
		        alert('请求数据失败');
		  }
	 	});
//		$.ajax({
//	 		type:"get",
//	 		url:"http://192.168.1.45:3000/home?type=banner",
//	 		datatype:'json',
//	 		async:true,
//	 		success:function(data){
//	 			var datas=data.imglist
//	 			var str='';
//	 			for (var i=0;i<datas.length;i++) {
//	 				str+='<div class="swiper-slide"><img src="'+datas[i]+'"/></div>';
//	 			}
//	 			console.log(str);
//	 			$('.swiper-wrapper').html(str);
//	 		},
//	 		error:function(jqXHR){
//		        alert('请求数据失败');
//		  }
//		});
		$('.name').on('touchstart',function(){
			$('.nones').show();
			$(this).css('color','#E439AA').children().addClass('xiatwo')
			$('.names').css('color','black').children().removeClass('xiatwo');
			$('.noneone').hide();
		});
		$('.names').on('touchstart',function(){
			$('.noneone').show();
			$('.nones').hide();
			$(this).css('color','#E439AA').children().addClass('xiatwo')
			$('.name').css('color','black').children().removeClass('xiatwo');
		})
	</script>
</html>